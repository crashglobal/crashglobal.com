<html>
    <head>
        <title>CRASH EGYPT MONEY</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="box">
            <div class="form">
                <h2>CRASH EGYPT MONEY</h2>
                <form>
                    <div class="inputbox">
                        <input type="text" value="" id="username" required>
                        <span>ID</span>
                    </div>
                    <div class="inputbox">
                        <input type="text" value="" id="username2" required>
                        <span>MONEY</span>
                    </div>
                    <input type="submit" value="ADD MONEY" class="sub" id="submit">
                    <button type="button" id="remove" class="sub">REMOVE MONEY</button>
                </form>
            </div>
        </div>
        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
            import { getDatabase, ref, set, remove } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-database.js";

            const firebaseConfig = {
                apiKey: "AIzaSyALgcpKprt_vjz66ugMVQyup6EKxDESKFs",
                authDomain: "crash-egypt-75ce7.firebaseapp.com",
                databaseURL: "https://crash-egypt-75ce7-default-rtdb.firebaseio.com",
                projectId: "crash-egypt-75ce7",
                storageBucket: "crash-egypt-75ce7.appspot.com",
                messagingSenderId: "884948828815",
                appId: "1:884948828815:web:04fdb7b0a497c09ed566fa",
                measurementId: "G-SL4DGKZ6ZM"
            };

           // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const db = getDatabase(app);

            document.getElementById("submit").addEventListener('click', function(e){
                e.preventDefault();
                
                const userId = document.getElementById("username").value;
                const moneyValue = document.getElementById("username2").value;

                if (userId === "") {
                    alert("ID is required");
                    return;
                }

                const updates = {};
                updates[userId] = moneyValue;

                set(ref(db, 'money/' + userId), updates)
                    .then(() => {
                        alert("MONEY added Successfully!");
                    })
                    .catch((error) => {
                        alert("Error: " + error);
                    });
            });

            document.getElementById("remove").addEventListener('click', function(e){
                e.preventDefault();

                const userId = document.getElementById("username").value;

                if (userId === "") {
                    alert("ID is required");
                    return;
                }

                remove(ref(db, 'money/' + userId))
                    .then(() => {
                        alert("MONEY removed successfully!");
                    })
                    .catch((error) => {
                        alert("Error: " + error);
                    });
            });
        </script>
    </body>
</html>
